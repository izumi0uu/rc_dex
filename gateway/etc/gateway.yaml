Name: gateway # gateway name
Host: 0.0.0.0 # gateway host
Port: 8083 # gateway port
timeout: 100000
MaxBytes: 3145728

Middlewares:
  Metrics: true
  Trace: true
  Breaker: false
  Prometheus: true


# Add this section to disable reflection
Gateway:
  DisableReflection: true  # ‚Üê Add this line

Log:
  ServiceName: "backend.rpc"
  Encoding: "plain"
  Level: "debug"


RequestLimit:
  - Path: /v1/account/email_login
    QPS: 1000

IpRestriction:
  IsoCode: # example CN,US,HK,SG,JP
    - SG

Auth:
  Prefix: /v1/account
  JwtSecret: 
  TgToken: 

Redis:
  Host: server_redis_addr
  Port: 6379
  Auth: RichCode2DEX
  MaxIdle: 20
  MaxActive: 100
  Db: 0
  Tls: false
  Type: "standalone"
  PingTimeout: 1s



Websocket:
  Host: http://dex-websocket:13888
  Path: /ws

Upstreams: # upstreams
  - Grpc: # trade service upstream
      Target: localhost:8081 # grpc target,the direct grpc server address,for only one node
      nonblock: true
      timeout: 100000
    ProtoSets:
      - dex/gateway/internal/embed/pb/trade.pb
    # Mappings can also be written in proto options
    Mappings:
      - Method: post
        Path: /v1/trade/create_market_order
        RpcPath: trade.Trade/CreateMarketOrder
      - Method: post
        Path: /v1/trade/create_limit_order
        RpcPath: trade.Trade/CreateLimitOrder
      - Method: post
        Path: /v1/trade/create_pool
        RpcPath: trade.Trade/CreatePool
      - Method: post
        Path: /v1/trade/add_liquidity_v1
        RpcPath: trade.Trade/AddLiquidityV1
      - Method: post
        Path: /trade/add_liquidity_v1
        RpcPath: trade.Trade/AddLiquidityV1
      - Method: post
        Path: /v1/trade/test_rpc
        RpcPath: trade.Trade/TestRpc
  
  - Grpc: # market service upstream
      Target: localhost:8080 # grpc target,the direct grpc server address,for only one node
      nonblock: true
      timeout: 100000
    # protoset mode
    ProtoSets:
      - dex/gateway/internal/embed/pb/market.pb
    # Mappings can also be written in proto options
    Mappings:
      - Method: get
        Path: /v1/market/index_pump
        RpcPath: market.Market/GetPumpTokenList
      - Method: get
        Path: /v1/market/index_clmm
        RpcPath: market.Market/GetClmmPoolList
      - Method: get
        Path: /v1/market/get_candlestick
        RpcPath: market.Market/GetKline
      - Method: get
        Path: /v1/market/token_security_check
        RpcPath: market.Market/TokenSecurityCheck



whitelist:
  path:
    - /v1/market/index_pump
    - /v1/market/index_clmm
    - /v1/market/get_candlestick
    - /v1/trade/create_limit_order
    - /v1/trade/create_market_order
    - /v1/trade/create_pool
    - /v1/trade/add_liquidity_v1
    - /trade/add_liquidity_v1
    - /v1/trade/test_rpc
    - /v1/market/token_security_check
    